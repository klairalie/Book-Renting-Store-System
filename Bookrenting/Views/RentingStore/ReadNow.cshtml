@{
    ViewData["Title"] = "Read Now";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<style>
body {
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
    background-color: #f5f3ef; /* warm paper-like background */
    font-family: 'Georgia', serif;
}

@@media print {
    body { display: none; }
}

.read-section {
    max-width: 900px;
    margin: 2rem auto;
    background-color: #fffdf8;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.read-section h1 {
    font-size: 2rem;
    color: #4b3832;
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 700;
}

.pdf-container {
    width: 100%;
    height: 75vh;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
}

.pdf-container iframe {
    width: 100%;
    height: 100%;
}

.back-btn {
    display: inline-block;
    margin-bottom: 1.5rem;
    padding: 0.5rem 1rem;
    background-color: #4b3832;
    color: #fff;
    border-radius: 6px;
    text-decoration: none;
    transition: background-color 0.2s;
}

.back-btn:hover {
    background-color: #7f5c48;
    text-decoration: none;
}
</style>

<div class="read-section"
     oncontextmenu="return false"
     oncopy="return false"
     oncut="return false"
     onpaste="return false"
     ondragstart="return false">

    <a href="javascript:history.back()" class="back-btn">&larr; Back</a>

    <h1>@Model.BookTitle</h1>

    <div class="pdf-container">
        <iframe 
            src="@Url.Content(Model.FilePath)#toolbar=0&navpanes=0&scrollbar=0"
            class="w-full h-full border rounded shadow">
        </iframe>
    </div>
</div>

<script>
document.onkeydown = function(e) {
    if (e.ctrlKey && ["c","x","v","p","s"].includes(e.key.toLowerCase())) e.preventDefault();
    if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) e.preventDefault();
};

document.addEventListener("keyup", function(e) {
    if (e.key === "PrintScreen") {
        document.body.style.filter = "blur(8px)";
        setTimeout(() => document.body.style.filter = "none", 1500);
    }
});
</script>
